WM="qtile"

# Set keyboard layout
setxkbmap -layout us,ru -option grp:alt_shift_toggle

# load Xresources
xrdb -load ~/.config/x11/Xresources

# Start polkit manager
/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &

# Dwm bar
[ $WM = "dwm" ] && dwmblocks &

# Wallpapers
xwallpaper --zoom "$HOME/.local/share/bg" &

# Volume staff.
# start_pipewire &

# Compositor
picom --experimental-backends & 

# Start notifications manager
dunst &
notify-send -a "System." "" "Hi !" -i "~/.config/dunst/icons/welcome.svg"

# Start redshift
redshift &

# Load mpd playlist
start_mpd &

# Key bindings.
sxhkd &

# Hide mouse cursor.
unclutter -idle 3 &

# Screenshots.
flameshot &

# Sync files. 
syncthing --no-browser &

# Custom lock.
xss-lock slock &

# Search engine.
/usr/bin/uwsgi --ini /etc/uwsgi/searxng.ini &

while true; do
   [ $WM = "qtile" ] && qtile start
   [ $WM = "dwm" ] && dwm 
done
